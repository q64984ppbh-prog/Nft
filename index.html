<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ ROCKET CRASH</title>
    <style>
        :root {
            --bg-dark: #0a0e17;
            --bg-card: #111827;
            --bg-card-light: #1a2332;
            --primary-blue: #3b82f6;
            --primary-blue-hover: #2563eb;
            --accent-purple: #8b5cf6;
            --text-white: #ffffff;
            --text-gray: #94a3b8;
            --text-light: #e2e8f0;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --border-color: #2d3748;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: var(--bg-dark);
            color: var(--text-white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding-bottom: 80px;
            position: relative;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav {
            display: flex;
            justify-content: space-around;
            background: var(--bg-card);
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 12px 0;
            border-top: 1px solid var(--border-color);
            z-index: 1000;
            max-width: 480px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text-gray);
            transition: all 0.3s;
            padding: 8px 20px;
            border-radius: 12px;
        }

        .nav-item.active {
            color: var(--primary-blue);
            background: rgba(59, 130, 246, 0.1);
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .nav-text {
            font-size: 12px;
            font-weight: 600;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        .page-header {
            background: var(--bg-card);
            padding: 20px 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .balance {
            background: var(--primary-blue);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 18px;
        }

        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            padding: 16px;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* –†–ê–ö–ï–¢–ö–ê (–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω) */
        .rocket-container {
            background: linear-gradient(135deg, var(--bg-card), #0f172a);
            border-radius: 24px;
            padding: 24px;
            margin: 16px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .rocket-display {
            position: relative;
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .rocket-animation {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .rocket {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            font-size: 80px;
            transition: bottom 0.1s linear;
            z-index: 2;
        }

        .rocket-trail {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 0;
            background: linear-gradient(to top, #3b82f6, #8b5cf6, #ec4899);
            opacity: 0.8;
            z-index: 1;
        }

        .multiplier-display {
            text-align: center;
            margin-top: 20px;
        }

        .multiplier-value {
            font-size: 64px;
            font-weight: 800;
            color: var(--success);
            text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
            margin-bottom: 10px;
            transition: all 0.2s;
        }

        .multiplier-label {
            font-size: 18px;
            color: var(--text-gray);
        }

        .bet-controls {
            background: var(--bg-card-light);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }

        .bet-input-group {
            margin-bottom: 16px;
        }

        .bet-input-group label {
            display: block;
            color: var(--text-gray);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .input-with-buttons {
            display: flex;
            gap: 8px;
        }

        .input-with-buttons input {
            flex: 1;
            background: var(--bg-dark);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 14px;
            color: var(--text-white);
            font-size: 18px;
            font-weight: 600;
            text-align: center;
        }

        .quick-bet {
            background: var(--border-color);
            border: none;
            color: var(--text-white);
            padding: 14px 20px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-bet:hover {
            background: var(--primary-blue);
        }

        .bet-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .bet-button {
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .bet-button.primary {
            background: var(--primary-blue);
            color: white;
        }

        .bet-button.primary:hover {
            background: var(--primary-blue-hover);
            transform: translateY(-2px);
        }

        .bet-button.secondary {
            background: var(--bg-card);
            color: var(--text-white);
            border: 2px solid var(--border-color);
        }

        .bet-button.secondary:hover {
            background: var(--border-color);
        }

        .bet-button.danger {
            background: var(--danger);
            color: white;
        }

        .bet-button.danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        /* –ò–°–¢–û–†–ò–Ø –°–¢–ê–í–û–ö */
        .bets-list {
            background: var(--bg-card);
            border-radius: 16px;
            overflow: hidden;
        }

        .bet-item {
            display: flex;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s;
        }

        .bet-item:hover {
            background: var(--bg-card-light);
        }

        .bet-item:last-child {
            border-bottom: none;
        }

        .bet-avatar {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            margin-right: 16px;
        }

        .bet-info {
            flex: 1;
        }

        .bet-user {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .bet-details {
            display: flex;
            gap: 10px;
            color: var(--text-gray);
            font-size: 14px;
        }

        .bet-profit {
            font-weight: 700;
            font-size: 18px;
            color: var(--success);
        }

        .bet-profit.loss {
            color: var(--danger);
        }

        /* –ö–ï–ô–°–´ */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .case-item {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: all 0.3s;
            cursor: pointer;
        }

        .case-item:hover {
            border-color: var(--primary-blue);
            transform: translateY(-5px);
        }

        .case-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .case-name {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .case-price {
            color: var(--primary-blue);
            font-weight: 700;
            font-size: 18px;
        }

        .case-button {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
            width: 100%;
            transition: all 0.3s;
        }

        .case-button:hover {
            background: var(--primary-blue-hover);
        }

        /* –ü–†–û–§–ò–õ–¨ */
        .profile-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            padding: 30px 20px;
            text-align: center;
            border-radius: 0 0 24px 24px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--primary-blue);
            border: 4px solid white;
        }

        .profile-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .profile-level {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 16px;
            border-radius: 20px;
            display: inline-block;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            padding: 20px;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 8px;
        }

        .stat-label {
            color: var(--text-gray);
            font-size: 14px;
        }

        .logout-button {
            background: var(--danger);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: calc(100% - 40px);
            margin: 20px;
            transition: all 0.3s;
        }

        .logout-button:hover {
            background: #dc2626;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes rocketLaunch {
            0% { transform: translateX(-50%) translateY(0); }
            100% { transform: translateX(-50%) translateY(-1000px); }
        }

        @keyframes crash {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.5); }
            100% { transform: translateX(-50%) scale(0.1); }
        }

        .rocket.launching {
            animation: rocketLaunch 0.5s linear forwards;
        }

        .rocket.crashing {
            animation: crash 1s ease-out forwards;
        }

        .rocket.explosion {
            position: absolute;
            font-size: 100px;
            animation: explosion 0.5s ease-out forwards;
        }

        @keyframes explosion {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }

        /* –°–∫—Ä—ã—Ç–∏–µ —Å–µ–∫—Ü–∏–π */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* –ü–æ–ª–æ—Å–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */
        .progress-bar {
            height: 4px;
            background: var(--border-color);
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-purple));
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º -->
        <div class="page-header">
            <div class="page-title">
                <span>üöÄ</span> ROCKET CRASH
            </div>
            <div class="balance" id="balance">1000.00 ‚ÇΩ</div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –†–ê–ö–ï–¢–ö–ê -->
        <div id="rocketPage" class="page-section active">
            <div class="rocket-container">
                <div class="rocket-display">
                    <div class="rocket-animation">
                        <div class="rocket" id="rocket">üöÄ</div>
                        <div class="rocket-trail" id="rocketTrail"></div>
                    </div>
                    <div class="multiplier-display">
                        <div class="multiplier-value" id="multiplier">1.00x</div>
                        <div class="multiplier-label">–¢–ï–ö–£–©–ò–ô –ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
                    </div>
                </div>

                <div class="bet-controls">
                    <div class="bet-input-group">
                        <label>–°–£–ú–ú–ê –°–¢–ê–í–ö–ò</label>
                        <div class="input-with-buttons">
                            <input type="number" id="betAmount" value="100" min="10" step="10">
                            <button class="quick-bet" onclick="setBetAmount(50)">50</button>
                            <button class="quick-bet" onclick="setBetAmount(100)">100</button>
                            <button class="quick-bet" onclick="setBetAmount(500)">500</button>
                        </div>
                    </div>

                    <div class="bet-input-group">
                        <label>–ê–í–¢–û-–í–´–í–û–î (x)</label>
                        <div class="input-with-buttons">
                            <input type="number" id="autoCashout" value="2.00" min="1.10" step="0.10">
                            <button class="quick-bet" onclick="setAutoCashout(2)">2x</button>
                            <button class="quick-bet" onclick="setAutoCashout(5)">5x</button>
                            <button class="quick-bet" onclick="setAutoCashout(10)">10x</button>
                        </div>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>

                    <div class="bet-buttons">
                        <button id="placeBetBtn" class="bet-button primary" onclick="placeBet()">
                            <span>üéØ</span> –°–¢–ê–í–ò–¢–¨
                        </button>
                        <button id="cashOutBtn" class="bet-button secondary" onclick="cashOut()" disabled>
                            <span>üí∞</span> –í–´–í–ï–°–¢–ò
                        </button>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">
                    <span>üìä</span> –ò–°–¢–û–†–ò–Ø –°–¢–ê–í–û–ö
                </div>
                <div class="bets-list" id="betsList">
                    <!-- –°—Ç–∞–≤–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ö–ï–ô–°–´ -->
        <div id="casesPage" class="page-section">
            <div class="section">
                <div class="section-title">
                    <span>üéÅ</span> –û–¢–ö–†–´–¢–¨ –ö–ï–ô–°
                </div>
                <div class="cases-grid">
                    <div class="case-item" onclick="openCase(1)">
                        <div class="case-icon">üì¶</div>
                        <div class="case-name">–ë–∞–∑–æ–≤—ã–π –∫–µ–π—Å</div>
                        <div class="case-price">50 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                    <div class="case-item" onclick="openCase(2)">
                        <div class="case-icon">üíé</div>
                        <div class="case-name">–ü—Ä–µ–º–∏—É–º –∫–µ–π—Å</div>
                        <div class="case-price">200 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                    <div class="case-item" onclick="openCase(3)">
                        <div class="case-icon">üëë</div>
                        <div class="case-name">–≠–ª–∏—Ç–Ω—ã–π –∫–µ–π—Å</div>
                        <div class="case-price">500 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                    <div class="case-item" onclick="openCase(4)">
                        <div class="case-icon">üöÄ</div>
                        <div class="case-name">–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–µ–π—Å</div>
                        <div class="case-price">1000 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                    <div class="case-item" onclick="openCase(5)">
                        <div class="case-icon">üí´</div>
                        <div class="case-name">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∫–µ–π—Å</div>
                        <div class="case-price">2500 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                    <div class="case-item" onclick="openCase(6)">
                        <div class="case-icon">üî•</div>
                        <div class="case-name">–û–≥–Ω–µ–Ω–Ω—ã–π –∫–µ–π—Å</div>
                        <div class="case-price">5000 ‚ÇΩ</div>
                        <button class="case-button">–û–¢–ö–†–´–¢–¨</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ü–†–û–§–ò–õ–¨ -->
        <div id="profilePage" class="page-section">
            <div class="profile-header">
                <div class="profile-avatar">üë§</div>
                <div class="profile-name">–ò–≥—Ä–æ–∫ #7284</div>
                <div class="profile-level">–£—Ä–æ–≤–µ–Ω—å 15</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalBets">47</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalWins">8,450 ‚ÇΩ</div>
                    <div class="stat-label">–í—ã–∏–≥—Ä–∞–Ω–æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="winRate">68%</div>
                    <div class="stat-label">–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="recordMultiplier">24.5x</div>
                    <div class="stat-label">–†–µ–∫–æ—Ä–¥–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                </div>
            </div>

            <button class="logout-button" onclick="logout()">
                <span>üö™</span> –í–´–ô–¢–ò –ò–ó –ê–ö–ö–ê–£–ù–¢–ê
            </button>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="nav">
        <a href="#" class="nav-item active" onclick="showPage('rocketPage')">
            <div class="nav-icon">üöÄ</div>
            <div class="nav-text">–†–∞–∫–µ—Ç–∫–∞</div>
        </a>
        <a href="#" class="nav-item" onclick="showPage('casesPage')">
            <div class="nav-icon">üéÅ</div>
            <div class="nav-text">–ö–µ–π—Å—ã</div>
        </a>
        <a href="#" class="nav-item" onclick="showPage('profilePage')">
            <div class="nav-icon">üë§</div>
            <div class="nav-text">–ü—Ä–æ—Ñ–∏–ª—å</div>
        </a>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        let gameActive = false;
        let currentMultiplier = 1.00;
        let crashPoint = null;
        let animationId = null;
        let currentBet = null;
        let balance = 1000.00;
        let betsHistory = [];
        let rocketPosition = 0;
        let progressInterval = null;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const balanceEl = document.getElementById('balance');
        const multiplierEl = document.getElementById('multiplier');
        const rocketEl = document.getElementById('rocket');
        const rocketTrailEl = document.getElementById('rocketTrail');
        const progressFillEl = document.getElementById('progressFill');
        const placeBetBtn = document.getElementById('placeBetBtn');
        const cashOutBtn = document.getElementById('cashOutBtn');
        const betsListEl = document.getElementById('betsList');

        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showPage(pageId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            document.getElementById(pageId).classList.add('active');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[onclick="showPage('${pageId}')"]`).classList.add('active');
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∞–º–∏
        function setBetAmount(amount) {
            document.getElementById('betAmount').value = amount;
        }

        function setAutoCashout(multiplier) {
            document.getElementById('autoCashout').value = multiplier;
        }

        function placeBet() {
            if (gameActive) return;
            
            const betAmount = parseFloat(document.getElementById('betAmount').value);
            const autoCashout = parseFloat(document.getElementById('autoCashout').value);
            
            if (betAmount > balance) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!');
                return;
            }
            
            if (betAmount < 10) {
                alert('–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞: 10 ‚ÇΩ');
                return;
            }
            
            // –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞–≤–∫—É
            currentBet = {
                amount: betAmount,
                autoCashout: autoCashout,
                cashedOut: false,
                profit: 0
            };
            
            balance -= betAmount;
            updateBalance();
            
            // –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
            gameActive = true;
            currentMultiplier = 1.00;
            crashPoint = generateCrashPoint();
            rocketPosition = 0;
            rocketEl.style.bottom = '0px';
            rocketTrailEl.style.height = '0px';
            rocketEl.classList.remove('crashing', 'launching');
            rocketEl.textContent = 'üöÄ';
            
            // –û–±–Ω–æ–≤–∏—Ç—å UI
            placeBetBtn.disabled = true;
            cashOutBtn.disabled = false;
            progressFillEl.style.width = '0%';
            
            // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é
            startGameLoop();
        }

        function generateCrashPoint() {
            // –ê–ª–≥–æ—Ä–∏—Ç–º –∫—Ä–∞—à –∏–≥—Ä—ã
            const r = Math.random();
            return Math.floor(100 * (1 - (1 - r)) / (1 - r)) / 100;
        }

        function startGameLoop() {
            if (animationId) cancelAnimationFrame(animationId);
            
            const startTime = Date.now();
            const gameLoop = () => {
                if (!gameActive) return;
                
                const elapsed = (Date.now() - startTime) / 1000;
                currentMultiplier = 1 + (elapsed * 0.3);
                
                // –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∫–µ—Ç–∫—É
                rocketPosition = Math.min((currentMultiplier - 1) * 30, 200);
                rocketEl.style.bottom = rocketPosition + 'px';
                rocketTrailEl.style.height = rocketPosition + 'px';
                
                // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
                const progressPercent = Math.min((currentMultiplier / 10) * 100, 100);
                progressFillEl.style.width = progressPercent + '%';
                
                // –û–±–Ω–æ–≤–∏—Ç—å –º–Ω–æ–∂–∏—Ç–µ–ª—å
                updateMultiplier();
                
                // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ-–≤—ã–≤–æ–¥
                if (currentBet && currentMultiplier >= currentBet.autoCashout && !currentBet.cashedOut) {
                    cashOut();
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–∞—à
                if (currentMultiplier >= crashPoint) {
                    crashGame();
                } else {
                    animationId = requestAnimationFrame(gameLoop);
                }
            };
            
            animationId = requestAnimationFrame(gameLoop);
        }

        function updateMultiplier() {
            multiplierEl.textContent = currentMultiplier.toFixed(2) + 'x';
            
            // –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—è
            if (currentMultiplier > 5) {
                multiplierEl.style.color = '#f59e0b'; // –û—Ä–∞–Ω–∂–µ–≤—ã–π
            } else if (currentMultiplier > 2) {
                multiplierEl.style.color = '#10b981'; // –ó–µ–ª–µ–Ω—ã–π
            } else {
                multiplierEl.style.color = '#ffffff'; // –ë–µ–ª—ã–π
            }
        }

        function cashOut() {
            if (!gameActive || !currentBet || currentBet.cashedOut) return;
            
            currentBet.cashedOut = true;
            currentBet.profit = currentBet.amount * currentMultiplier;
            
            balance += currentBet.profit;
            updateBalance();
            
            // –î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
            addBetToHistory({
                user: '–í—ã',
                bet: currentBet.amount,
                multiplier: currentMultiplier.toFixed(2),
                profit: currentBet.profit,
                win: true
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
            rocketEl.classList.add('launching');
            
            // –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
            endGame();
        }

        function crashGame() {
            gameActive = false;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤–∑—Ä—ã–≤–∞
            rocketEl.textContent = 'üí•';
            rocketEl.classList.add('crashing');
            
            // –î–æ–±–∞–≤–∏—Ç—å –≤–∑—Ä—ã–≤ –≤ –∏—Å—Ç–æ—Ä–∏—é
            if (currentBet && !currentBet.cashedOut) {
                addBetToHistory({
                    user: '–í—ã',
                    bet: currentBet.amount,
                    multiplier: currentMultiplier.toFixed(2),
                    profit: 0,
                    win: false
                });
            }
            
            // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ —Å–±—Ä–æ—Å–æ–º
            setTimeout(() => {
                rocketEl.textContent = 'üöÄ';
                rocketEl.classList.remove('crashing');
                endGame();
            }, 1500);
        }

        function endGame() {
            gameActive = false;
            if (animationId) {
                cancelAnimationFrame(animationId);
                animationId = null;
            }
            
            placeBetBtn.disabled = false;
            cashOutBtn.disabled = true;
            currentBet = null;
            
            // –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
            setTimeout(() => {
                progressFillEl.style.width = '0%';
            }, 1000);
        }

        function updateBalance() {
            balanceEl.textContent = balance.toFixed(2) + ' ‚ÇΩ';
        }

        function addBetToHistory(bet) {
            betsHistory.unshift(bet);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é 10 –∑–∞–ø–∏—Å—è–º–∏
            if (betsHistory.length > 10) {
                betsHistory.pop();
            }
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
            updateBetsList();
        }

        function updateBetsList() {
            betsListEl.innerHTML = '';
            
            betsHistory.forEach(bet => {
                const betItem = document.createElement('div');
                betItem.className = 'bet-item';
                
                betItem.innerHTML = `
                    <div class="bet-avatar">${bet.user === '–í—ã' ? 'üë§' : 'üëΩ'}</div>
                    <div class="bet-info">
                        <div class="bet-user">${bet.user}</div>
                        <div class="bet-details">
                            <span>${bet.bet} ‚ÇΩ</span>
                            <span>√ó${bet.multiplier}</span>
                        </div>
                    </div>
                    <div class="bet-profit ${bet.win ? '' : 'loss'}">
                        ${bet.win ? '+' : '-'}${bet.profit.toFixed(2)} ‚ÇΩ
                    </div>
                `;
                
                betsListEl.appendChild(betItem);
            });
            
            // –î–æ–±–∞–≤–∏—Ç—å –¥–µ–º–æ –∑–∞–ø–∏—Å–∏ –µ—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞
            if (betsHistory.length === 0) {
                const demoBets = [
                    { user: 'V | Garant', bet: 50, multiplier: '1.12', profit: 56, win: true },
                    { user: 'Vaslander52', bet: 20, multiplier: '1.12', profit: 22.4, win: true },
                    { user: '–û–∑–æ–¥–±–µ–∫', bet: 13, multiplier: '1.12', profit: 14.56, win: true }
                ];
                
                demoBets.forEach(bet => {
                    const betItem = document.createElement('div');
                    betItem.className = 'bet-item';
                    
                    betItem.innerHTML = `
                        <div class="bet-avatar">${bet.user === 'V | Garant' ? 'V' : bet.user === 'Vaslander52' ? 'V' : '–û'}</div>
                        <div class="bet-info">
                            <div class="bet-user">${bet.user}</div>
                            <div class="bet-details">
                                <span>${bet.bet} ‚ÇΩ</span>
                                <span>√ó${bet.multiplier}</span>
                            </div>
                        </div>
                        <div class="bet-profit">
                            +${bet.profit.toFixed(2)} ‚ÇΩ
                        </div>
                    `;
                    
                    betsListEl.appendChild(betItem);
                });
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –∫–µ–π—Å–æ–≤
        function openCase(caseId) {
            const casePrices = [50, 200, 500, 1000, 2500, 5000];
            const casePrice = casePrices[caseId - 1];
            
            if (balance < casePrice) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞!');
                return;
            }
            
            balance -= casePrice;
            updateBalance();
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–∞
            const winAmount = Math.floor(Math.random() * casePrice * 3) + casePrice;
            balance += winAmount;
            updateBalance();
            
            alert(`üéâ –í—ã –æ—Ç–∫—Ä—ã–ª–∏ –∫–µ–π—Å –∏ –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} ‚ÇΩ!`);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
        function logout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                alert('–í—ã—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω');
                // –ó–¥–µ—Å—å –æ–±—ã—á–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            updateBalance();
            updateBetsList();
            
            // –î–æ–±–∞–≤–∏—Ç—å –¥–µ–º–æ –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            addBetToHistory({
                user: 'DemoPlayer',
                bet: 100,
                multiplier: '2.45',
                profit: 245,
                win: true
            });
        });
    </script>
</body>
</html>
